# =============================================================================
# ROS2 Docker 개발환경 설정
# 이 파일을 .env로 복사하여 사용하세요: cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# 기본 컨테이너 설정
# -----------------------------------------------------------------------------
CONTAINER_NAME=ros2-dev-container
GAZEBO_CONTAINER_NAME=gazebo-container

# ROS2 이미지 설정 (사용 가능한 옵션들)
# - osrf/ros:humble-desktop-full (권장)
# - osrf/ros:iron-desktop-full
# - osrf/ros:rolling-desktop-full
ROS2_IMAGE=osrf/ros:humble-desktop-full
GAZEBO_IMAGE=osrf/ros:humble-desktop-full

# -----------------------------------------------------------------------------
# ROS2 환경 설정
# -----------------------------------------------------------------------------
ROS_DISTRO=humble
ROS_DOMAIN_ID=0
RMW_IMPLEMENTATION=rmw_fastrtps_cpp

# -----------------------------------------------------------------------------
# 사용자 및 권한 설정
# -----------------------------------------------------------------------------
# Linux에서는 현재 사용자 ID 사용 (id -u, id -g 명령어로 확인)
USER_ID=1000
GROUP_ID=1000
USER_NAME=developer

# 권한 설정 (GPU 접근이나 특정 디바이스 접근이 필요한 경우 true)
PRIVILEGED=false

# -----------------------------------------------------------------------------
# 디스플레이 설정 (자동 감지 - 수정 불필요)
# -----------------------------------------------------------------------------
# Linux에서는 자동으로 설정됨
DISPLAY=:0
# X11 인증 파일 경로 (Linux)
XAUTH=/tmp/.docker.xauth

# -----------------------------------------------------------------------------
# 경로 설정
# -----------------------------------------------------------------------------
# 작업 디렉토리 (ROS2 패키지가 저장될 위치)
WORKSPACE_PATH=./workspace

# 설정 파일 디렉토리
CONFIG_PATH=./config

# SSH 키 경로 (Git 사용 시)
SSH_KEY_PATH=~/.ssh

# Git 설정 파일 경로
GIT_CONFIG_PATH=~/.gitconfig

# Gazebo 모델 경로
GAZEBO_MODELS_PATH=./gazebo_models

# -----------------------------------------------------------------------------
# 네트워크 설정
# -----------------------------------------------------------------------------
# 포트 매핑
ROS2_MASTER_PORT=11311
RVIZ_PORT=8080

# 커스텀 네트워크 설정 (host 모드가 아닌 경우)
NETWORK_SUBNET=172.20.0.0/16

# -----------------------------------------------------------------------------
# 리소스 제한 설정
# -----------------------------------------------------------------------------
# 메모리 제한
MEMORY_LIMIT=8G
MEMORY_RESERVATION=2G

# CPU 제한
CPU_LIMIT=4.0
CPU_RESERVATION=1.0

# -----------------------------------------------------------------------------
# 시작 명령어 설정
# -----------------------------------------------------------------------------
# 기본 시작 명령어
STARTUP_COMMAND=bash

# Gazebo 시작 명령어 옵션들:
# - gzserver (서버만)
# - gazebo (GUI 포함)
# - "bash -c 'source /opt/ros/humble/setup.bash && gazebo'"
GAZEBO_COMMAND=gazebo

# -----------------------------------------------------------------------------
# 재시작 정책
# -----------------------------------------------------------------------------
# 옵션: no, always, on-failure, unless-stopped
RESTART_POLICY=unless-stopped

# =============================================================================
# 플랫폼별 추가 설정 가이드
# =============================================================================

# Windows (WSL2) 환경에서 추가로 필요한 설정:
# 1. WSL2에서 X11 서버 설정 (VcXsrv 또는 X410 사용)
# 2. Windows 방화벽에서 포트 허용
# 3. DISPLAY 환경변수를 Windows IP로 설정

# Linux 환경에서 X11 포워딩 설정:
# xhost +local:docker

# macOS 환경에서 XQuartz 사용:
# DISPLAY=host.docker.internal:0